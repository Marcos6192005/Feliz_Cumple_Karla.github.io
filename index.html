<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Para ti Karla ‚úø</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400;1,600&family=Italiana&family=Lato:wght@100;300;400&family=Great+Vibes&display=swap" rel="stylesheet"/>
<style>
:root {
  --ink:   #1a0e14;
  --dust:  #f7efe8;
  --petal: #c87880;
  --blush: #f0c4c4;
  --gold:  #b08050;
  --mist:  #e4d0c8;
  --wine:  #5c2535;
  --plum:  #280f1c;
  --lilac: #a88cc0;
  --pale:  #fdf8f3;
  --bd:    rgba(200,120,128,.2);
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{
  font-family:'Lato',sans-serif;font-weight:300;
  background:var(--pale);color:var(--ink);overflow-x:hidden;
}
body.locked{overflow:hidden}

/* ‚ïê‚ïê‚ïê SPLASH ‚ïê‚ïê‚ïê */
#splash{
  position:fixed;inset:0;z-index:200;
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  text-align:center;padding:2rem;overflow:hidden;
  background:#080310;
  transition:opacity 1.1s ease,transform 1.1s ease;
  cursor:pointer;
}
#splash.hide{opacity:0;transform:scale(1.06);pointer-events:none}
#splash-canvas{position:absolute;inset:0;pointer-events:none}

.sp-aurora{
  position:absolute;border-radius:50%;pointer-events:none;filter:blur(100px);
}
.sp-a1{width:600px;height:400px;background:rgba(80,20,50,.4);top:-8%;left:-12%;animation:auroraDrift 14s ease-in-out infinite}
.sp-a2{width:450px;height:350px;background:rgba(40,10,60,.5);bottom:-5%;right:-8%;animation:auroraDrift 11s ease-in-out infinite reverse;animation-delay:-5s}
.sp-a3{width:320px;height:320px;background:rgba(100,30,80,.15);top:35%;left:50%;animation:auroraDrift 18s ease-in-out infinite;animation-delay:-9s}
@keyframes auroraDrift{
  0%,100%{transform:translate(0,0) scale(1)}
  33%{transform:translate(22px,-16px) scale(1.06)}
  66%{transform:translate(-16px,20px) scale(.94)}
}

.sp-ring{
  position:absolute;border-radius:50%;
  border:1px solid rgba(200,120,128,.06);
  top:50%;left:50%;transform:translate(-50%,-50%);
  animation:ringBreath ease-in-out infinite;
}
.sp-ring:nth-child(1){width:320px;height:320px;animation-duration:7s}
.sp-ring:nth-child(2){width:560px;height:560px;animation-duration:11s;animation-delay:-4s}
.sp-ring:nth-child(3){width:800px;height:800px;animation-duration:16s;animation-delay:-8s}
@keyframes ringBreath{
  0%,100%{opacity:.5;transform:translate(-50%,-50%) scale(1)}
  50%{opacity:.08;transform:translate(-50%,-50%) scale(1.05)}
}

.sp-body{position:relative;z-index:2}
.sp-eyebrow{
  font-family:'Lato',sans-serif;font-weight:100;
  font-size:clamp(.56rem,1.5vw,.66rem);letter-spacing:.55em;
  text-transform:uppercase;color:var(--lilac);opacity:.65;
  margin-bottom:1.5rem;animation:fadeUp .9s .05s ease both;
}
.sp-title{
  font-family:'Italiana',serif;
  font-size:clamp(4.5rem,17vw,11rem);
  color:var(--blush);line-height:.92;
  text-shadow:0 0 140px rgba(200,120,128,.25);
  animation:fadeUp 1s .15s ease both;
  letter-spacing:-.01em;
}
.sp-name{
  font-family:'Great Vibes',cursive;
  font-size:clamp(2.6rem,9vw,6rem);
  color:var(--petal);margin-top:.7rem;
  text-shadow:0 0 60px rgba(200,120,128,.3);
  animation:fadeUp 1s .28s ease both;
}
.sp-gem{
  display:block;margin:2rem auto;
  font-size:.65rem;letter-spacing:.5em;
  color:rgba(200,120,128,.3);
  animation:fadeUp 1s .4s ease both;
}
.sp-btn{
  display:inline-flex;align-items:center;gap:.8rem;
  padding:1rem 2.8rem;
  border:1px solid rgba(200,120,128,.28);
  border-radius:2px;
  background:rgba(200,120,128,.06);
  color:rgba(240,196,196,.8);
  font-family:'Lato',sans-serif;font-weight:300;
  font-size:clamp(.7rem,1.7vw,.78rem);letter-spacing:.35em;
  text-transform:uppercase;cursor:pointer;
  backdrop-filter:blur(16px);
  animation:fadeUp 1s .52s ease both,spPulse 3.5s 1.7s ease-in-out infinite;
  transition:background .3s,border-color .3s,transform .25s;
  -webkit-user-select:none;user-select:none;
}
.sp-btn:hover{background:rgba(200,120,128,.14);border-color:rgba(200,120,128,.5);transform:translateY(-3px)}
@keyframes spPulse{
  0%,100%{box-shadow:0 0 0 0 rgba(200,120,128,0)}
  50%{box-shadow:0 0 0 14px rgba(200,120,128,.05)}
}
.sp-note{
  margin-top:2rem;font-size:.58rem;letter-spacing:.3em;
  text-transform:uppercase;color:rgba(240,196,196,.18);
  animation:fadeUp 1s .65s ease both;
}

/* ‚ïê‚ïê‚ïê PETALS ‚ïê‚ïê‚ïê */
#petals-canvas{position:fixed;inset:0;pointer-events:none;z-index:0}

/* ‚ïê‚ïê‚ïê HERO ‚ïê‚ïê‚ïê */
.hero{
  position:relative;z-index:1;
  min-height:100svh;
  display:grid;place-items:center;
  padding:5rem 2rem 8rem;
  overflow:hidden;
}
.hero::before{
  content:'';position:absolute;inset:0;z-index:0;pointer-events:none;
  background:
    radial-gradient(ellipse 110% 80% at 50% -5%, rgba(240,196,196,.32) 0%,transparent 60%),
    radial-gradient(ellipse 60% 50% at 90% 105%, rgba(176,128,80,.06) 0%,transparent 55%),
    radial-gradient(ellipse 50% 60% at 5%  90%,  rgba(168,140,192,.08) 0%,transparent 50%);
}
.hero::after{
  content:'';position:absolute;inset:0;z-index:0;pointer-events:none;opacity:.018;
  background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  background-size:200px;
}

.hero-content{position:relative;z-index:1;text-align:center}

.hero-sup{
  font-family:'Lato',sans-serif;font-weight:100;
  font-size:clamp(.58rem,1.4vw,.68rem);letter-spacing:.5em;
  text-transform:uppercase;color:var(--gold);
  margin-bottom:2.5rem;display:block;
  animation:fadeUp .9s ease both;
}
.hero-sup::before,.hero-sup::after{content:' ‚óÜ ';opacity:.4}

.hero-flower-stage{
  position:relative;display:inline-flex;
  margin-bottom:2.2rem;
  animation:fadeUp 1s .12s ease both;
}
.hero-flower{
  font-size:clamp(5rem,16vw,9.5rem);
  cursor:pointer;display:block;
  filter:drop-shadow(0 18px 45px rgba(200,120,128,.35));
  animation:floatMaj 5.5s ease-in-out infinite;
  transition:filter .35s;
  -webkit-user-select:none;user-select:none;
}
.hero-flower:hover{filter:drop-shadow(0 24px 60px rgba(200,120,128,.55))}
.ring1,.ring2{
  position:absolute;top:50%;left:50%;border-radius:50%;
  transform:translate(-50%,-50%);pointer-events:none;
  border:1px solid rgba(200,120,128,.12);
}
.ring1{width:155%;height:155%;animation:spinR 24s linear infinite}
.ring2{width:215%;height:215%;border-style:dashed;border-color:rgba(200,120,128,.06);animation:spinR 38s linear infinite reverse}
@keyframes spinR{to{transform:translate(-50%,-50%) rotate(360deg)}}
@keyframes floatMaj{
  0%,100%{transform:translateY(0) rotate(-1.5deg)}
  50%{transform:translateY(-20px) rotate(1.5deg)}
}

.hero-title{
  font-family:'Italiana',serif;
  font-size:clamp(3.5rem,13vw,9.5rem);
  color:var(--wine);line-height:.96;
  letter-spacing:.015em;
  animation:fadeUp 1s .22s ease both;
  text-shadow:0 8px 45px rgba(92,37,53,.08);
}
.hero-name{
  font-family:'Great Vibes',cursive;
  font-size:clamp(2.6rem,8.5vw,6rem);
  color:var(--petal);margin-top:.35rem;
  animation:fadeUp 1s .34s ease both;
  text-shadow:0 4px 28px rgba(200,120,128,.22);
}
.hero-div{
  display:flex;align-items:center;gap:.8rem;
  margin:2rem auto;width:min(250px,70%);
  animation:fadeUp 1s .44s ease both;
}
.hero-div-line{
  flex:1;height:1px;
  background:linear-gradient(90deg,transparent,rgba(200,120,128,.35));
}
.hero-div-line:last-child{background:linear-gradient(90deg,rgba(200,120,128,.35),transparent)}
.hero-div-icon{font-size:.55rem;color:var(--petal);letter-spacing:.05em}
.hero-date{
  font-family:'Cormorant Garamond',serif;font-style:italic;
  font-size:clamp(1rem,2.3vw,1.18rem);color:var(--wine);opacity:.5;
  letter-spacing:.09em;animation:fadeUp 1s .54s ease both;
}
.hero-scroll{
  position:absolute;bottom:2.4rem;left:50%;transform:translateX(-50%);
  display:flex;flex-direction:column;align-items:center;gap:.4rem;
  color:var(--petal);opacity:.38;
  font-size:.56rem;letter-spacing:.35em;text-transform:uppercase;
  animation:fadeUp 1s 1.4s ease both;
}
.hero-scroll .arr{animation:dropB 2.4s ease-in-out infinite;font-size:.75rem}
@keyframes dropB{0%,100%{transform:translateY(0)}50%{transform:translateY(7px)}}

/* ‚ïê‚ïê‚ïê TAPE ‚ïê‚ïê‚ïê */
.tape{
  position:relative;z-index:1;overflow:hidden;padding:1.5rem 0;
  background:linear-gradient(135deg,#f5e4dc,#f9eae6,#f0dce6,#eae4f2,#f5e4dc);
  border-top:1px solid var(--bd);border-bottom:1px solid var(--bd);
}
.tape-row{display:flex;width:max-content;animation:tapeDrift 38s linear infinite}
.tape-row span{
  font-size:clamp(1.5rem,3.5vw,2.1rem);padding:0 1.1rem;
  display:inline-block;animation:tapeF 3.8s ease-in-out infinite;
}
.tape-row span:nth-child(3n+1){animation-delay:.4s}
.tape-row span:nth-child(3n+2){animation-delay:1.2s}
@keyframes tapeDrift{to{transform:translateX(-50%)}}
@keyframes tapeF{0%,100%{transform:translateY(0)}50%{transform:translateY(-11px)}}

/* ‚ïê‚ïê‚ïê SECTION BASE ‚ïê‚ïê‚ïê */
.section{position:relative;z-index:1;padding:clamp(5rem,10vw,9rem) clamp(1.5rem,5vw,3rem)}
.section-inner{max-width:800px;margin:0 auto}
.s-head{text-align:center;margin-bottom:clamp(3rem,6vw,5rem)}
.s-sup{
  display:block;margin-bottom:1rem;
  font-size:.58rem;letter-spacing:.42em;text-transform:uppercase;color:var(--gold);
}
.s-h2{
  font-family:'Cormorant Garamond',serif;font-weight:300;
  font-size:clamp(2.2rem,5.5vw,3.5rem);color:var(--wine);
  line-height:1.15;letter-spacing:.02em;
}

/* ‚ïê‚ïê‚ïê SOBRE / CARTA ‚ïê‚ïê‚ïê */
.letter-section{
  background:linear-gradient(168deg,#fdf2ea 0%,#f8e6e6 50%,#f2eaf8 100%);
}
.env-wrap{display:flex;justify-content:center;perspective:1200px}

.envelope{
  width:min(580px,100%);
  position:relative;
  cursor:pointer;
  -webkit-user-select:none;user-select:none;
  transition:transform .5s cubic-bezier(.34,1.56,.64,1),filter .4s;
  filter:drop-shadow(0 18px 50px rgba(92,37,53,.15)) drop-shadow(0 4px 12px rgba(92,37,53,.08));
}
.envelope:hover{
  transform:translateY(-10px) rotateX(2deg);
  filter:drop-shadow(0 32px 70px rgba(92,37,53,.22)) drop-shadow(0 6px 18px rgba(92,37,53,.1));
}
.envelope.opening{ pointer-events:none; }

.env-shell{
  position:relative;
  background:linear-gradient(160deg,#f9ede4 0%,#f5e0dc 40%,#f2dde8 100%);
  border-radius:4px 4px 14px 14px;
  overflow:visible;
}

.env-sides{
  position:absolute;top:0;left:0;width:100%;
  pointer-events:none;z-index:1;
}

.env-top-flap{
  position:relative;width:100%;overflow:hidden;
  height:0;padding-bottom:46%;
  transform-origin:top center;
  transform-style:preserve-3d;
  transition:transform .8s cubic-bezier(.4,0,.2,1);
  z-index:6;
}
.env-top-flap svg{
  position:absolute;top:0;left:0;width:100%;height:100%;
  display:block;
}

.env-interior{
  position:absolute;
  top:0;left:0;right:0;
  height:46%;
  background:linear-gradient(175deg,#fff5f0 0%,#fde8e8 60%,#faeaf4 100%);
  z-index:2;
  overflow:hidden;
  border-radius:4px 4px 0 0;
  display:flex;align-items:center;justify-content:center;
}
.env-interior-lines{
  width:80%;opacity:0;
  transition:opacity .5s ease .3s;
}
.env-interior-lines span{
  display:block;height:1px;margin:10px 0;
  background:linear-gradient(90deg,transparent,rgba(200,120,128,.2),transparent);
}
.envelope.open .env-interior-lines{ opacity:1; }

.env-seal{
  position:absolute;
  bottom:-26px;left:50%;transform:translateX(-50%);
  width:54px;height:54px;border-radius:50%;
  background:radial-gradient(circle at 35% 35%,#d88090,#a04858);
  display:flex;align-items:center;justify-content:center;
  font-size:1.4rem;z-index:8;
  box-shadow:
    0 0 0 3px rgba(255,255,255,.9),
    0 0 0 4px rgba(200,120,128,.25),
    0 6px 22px rgba(130,50,70,.4);
  transition:transform .4s cubic-bezier(.34,1.56,.64,1),box-shadow .4s,opacity .3s;
}
.envelope:hover .env-seal{
  transform:translateX(-50%) scale(1.1) rotate(12deg);
  box-shadow:0 0 0 3px rgba(255,255,255,.9),0 0 0 5px rgba(200,120,128,.35),0 10px 36px rgba(130,50,70,.5);
}
.envelope.open .env-seal{ opacity:0; transform:translateX(-50%) scale(0); }

.env-seal::after{
  content:'';position:absolute;inset:-6px;border-radius:50%;
  border:1.5px solid rgba(200,120,128,.35);
  animation:sealPulse 2.5s ease-in-out infinite;
}
@keyframes sealPulse{
  0%,100%{transform:scale(1);opacity:.6}
  50%{transform:scale(1.2);opacity:0}
}

.env-body{
  position:relative;z-index:4;
  background:linear-gradient(170deg,#fdf5f0 0%,#faeae8 50%,#f8eaf4 100%);
  border:1.5px solid rgba(200,120,128,.18);
  border-top:none;
  border-radius:0 0 14px 14px;
  padding:clamp(3.5rem,7vw,5rem) clamp(2rem,5vw,3.5rem) clamp(2.5rem,5vw,3.5rem);
  text-align:center;
  overflow:hidden;
}
.env-body::before{
  content:'';position:absolute;inset:0;
  background:repeating-linear-gradient(
    0deg,
    transparent,
    transparent 27px,
    rgba(200,120,128,.045) 27px,
    rgba(200,120,128,.045) 28px
  );
  pointer-events:none;
}
.env-body::after{
  content:'';position:absolute;top:0;left:52px;bottom:0;width:1px;
  background:rgba(200,180,200,.2);pointer-events:none;
}

.env-stamp{
  position:absolute;top:16px;right:16px;
  width:42px;height:52px;
  background:linear-gradient(135deg,#fce8d8,#f8dede);
  border:1px solid rgba(200,120,128,.2);
  border-radius:3px;
  display:flex;align-items:center;justify-content:center;
  font-size:1.3rem;
  box-shadow:1px 1px 4px rgba(92,37,53,.08);
  transform:rotate(2deg);
}
.env-stamp::after{
  content:'';position:absolute;inset:-1px;border-radius:3px;
  background:
    repeating-linear-gradient(0deg,transparent,transparent 5px,rgba(200,120,128,.08) 5px,rgba(200,120,128,.08) 6px),
    repeating-linear-gradient(90deg,transparent,transparent 5px,rgba(200,120,128,.08) 5px,rgba(200,120,128,.08) 6px);
}

.env-postmark{
  position:absolute;top:16px;right:70px;
  width:52px;height:52px;border-radius:50%;
  border:1.5px solid rgba(130,80,90,.15);
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  transform:rotate(-8deg);opacity:.5;
}
.env-postmark-top{font-size:.38rem;letter-spacing:.12em;text-transform:uppercase;color:var(--wine)}
.env-postmark-line{width:36px;height:1px;background:var(--wine);margin:1.5px 0;opacity:.4}
.env-postmark-bot{font-size:.38rem;color:var(--wine)}

.env-address{
  position:relative;z-index:1;
  text-align:left;padding-left:62px;margin-bottom:1.8rem;
}
.env-address-to{
  font-size:.52rem;letter-spacing:.3em;text-transform:uppercase;
  color:rgba(130,70,80,.45);margin-bottom:.3rem;
}
.env-address-name{
  font-family:'Great Vibes',cursive;
  font-size:clamp(1.8rem,4vw,2.6rem);
  color:var(--wine);line-height:1.2;
  text-shadow:0 2px 8px rgba(92,37,53,.08);
}
.env-address-city{
  font-family:'Cormorant Garamond',serif;font-style:italic;
  font-size:.8rem;color:rgba(130,70,80,.5);letter-spacing:.05em;margin-top:.1rem;
}

.env-divider{
  position:relative;z-index:1;
  display:flex;align-items:center;gap:.8rem;margin:0 auto 1.4rem;
  width:min(280px,80%);
}
.env-divider-line{
  flex:1;height:1px;
  background:linear-gradient(90deg,transparent,rgba(200,120,128,.3));
}
.env-divider-line:last-child{background:linear-gradient(90deg,rgba(200,120,128,.3),transparent)}
.env-divider-gem{font-size:.55rem;color:var(--petal);letter-spacing:.1em}

.env-copy{
  position:relative;z-index:1;
  font-family:'Cormorant Garamond',serif;font-style:italic;
  font-size:clamp(1.05rem,2.3vw,1.25rem);color:var(--wine);
  line-height:1.8;opacity:.75;
}
.env-cta{
  position:relative;z-index:1;
  display:inline-block;margin-top:1.6rem;
  font-size:.56rem;letter-spacing:.35em;text-transform:uppercase;
  color:var(--gold);animation:breathe 3s ease-in-out infinite;
}
@keyframes breathe{0%,100%{opacity:1}50%{opacity:.2}}

.env-body-shadow{
  position:absolute;top:0;left:0;right:0;height:30px;pointer-events:none;
  background:linear-gradient(180deg,rgba(92,37,53,.04),transparent);
  z-index:5;
}

.letter{
  display:none;width:100%;max-width:680px;
  background:#fff;border:1.5px solid var(--bd);border-radius:16px;
  padding:clamp(3rem,7vw,5.5rem) clamp(2.2rem,6vw,4.5rem);
  position:relative;overflow:hidden;
  box-shadow:0 28px 100px rgba(200,120,128,.1);
  animation:openLetter .7s ease both;
}
.letter-bg{
  position:absolute;inset:0;pointer-events:none;
  background:
    radial-gradient(ellipse 70% 50% at 100% 0%,rgba(200,120,128,.04) 0%,transparent 65%),
    radial-gradient(ellipse 60% 60% at 0%   100%,rgba(176,128,80,.03) 0%,transparent 60%);
}
.letter-c1,.letter-c2{
  position:absolute;font-size:1.6rem;color:rgba(240,196,196,.45);pointer-events:none;
}
.letter-c1{top:.9rem;left:1.2rem}
.letter-c2{bottom:.9rem;right:1.2rem;transform:rotate(180deg)}
.letter-q{
  font-family:'Great Vibes',cursive;font-size:7.5rem;
  line-height:.22;color:rgba(240,196,196,.5);
  display:block;margin-bottom:1.8rem;position:relative;z-index:1;
}
.letter-body{
  font-family:'Cormorant Garamond',serif;font-style:italic;
  font-size:clamp(1.15rem,2.6vw,1.4rem);line-height:2.1;
  color:var(--ink);opacity:.82;position:relative;z-index:1;
}
.letter-sig{
  margin-top:2.8rem;font-family:'Great Vibes',cursive;
  font-size:clamp(2.2rem,4.5vw,3rem);color:var(--petal);
  position:relative;z-index:1;
}
.letter-close{
  display:inline-block;margin-top:2rem;
  padding:.55rem 1.8rem;border:1px solid var(--bd);border-radius:2px;
  font-size:.62rem;letter-spacing:.2em;text-transform:uppercase;
  color:var(--wine);cursor:pointer;background:none;opacity:.55;
  transition:opacity .2s,background .2s;
}
.letter-close:hover{opacity:1;background:rgba(240,196,196,.12)}
@keyframes openLetter{from{opacity:0;transform:translateY(16px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}

/* ‚ïê‚ïê‚ïê VIDEO ‚ïê‚ïê‚ïê */
.video-section{background:var(--pale)}
.video-shell{
  border-radius:16px;overflow:hidden;
  box-shadow:0 20px 70px rgba(92,37,53,.07),0 2px 12px rgba(92,37,53,.04);
  border:1.5px solid var(--bd);
}
.video-cap{
  background:linear-gradient(135deg,var(--wine),#8c3040);
  padding:2rem 2.5rem;display:flex;align-items:center;gap:1.2rem;
}
.video-cap-icon{font-size:2rem}
.video-cap-text h3{
  font-family:'Cormorant Garamond',serif;font-weight:300;
  font-size:clamp(1.4rem,3vw,2rem);color:#fff;letter-spacing:.03em;
}
.video-cap-text p{font-size:.73rem;color:rgba(255,255,255,.55);margin-top:.25rem;letter-spacing:.09em}
.video-body{background:#fff;padding:clamp(2rem,5vw,3.5rem);text-align:center}

.video-embed-outer{
  width:100%;max-width:640px;margin:0 auto;
  border-radius:12px;overflow:hidden;
  box-shadow:0 10px 45px rgba(200,120,128,.18);
}
.video-embed-wrap{
  position:relative;width:100%;
  padding-bottom:56.25%;
  height:0;
}
.video-embed-wrap iframe{
  position:absolute;top:0;left:0;
  width:100%;height:100%;
  border:none;display:block;
}

.video-cta{
  display:inline-block;margin-top:2rem;
  padding:.85rem 2.6rem;
  background:linear-gradient(135deg,var(--petal),#a05060);
  color:#fff;border-radius:2px;text-decoration:none;
  font-size:.75rem;letter-spacing:.18em;text-transform:uppercase;
  box-shadow:0 5px 20px rgba(200,120,128,.36);
  transition:transform .2s,box-shadow .2s;
}
.video-cta:hover{transform:translateY(-3px);box-shadow:0 12px 32px rgba(200,120,128,.5)}
.video-note{font-size:.62rem;color:rgba(92,37,53,.38);margin-top:1rem;letter-spacing:.05em}

/* ‚ïê‚ïê‚ïê CIELO ‚ïê‚ïê‚ïê */
.sky-section{
  position:relative;z-index:1;overflow:hidden;
  background:linear-gradient(178deg,#070310 0%,#110828 35%,#1c0d30 65%,#100610 100%);
  padding:clamp(5rem,9vw,8rem) clamp(1.5rem,5vw,3rem);
}
.sky-section::before{
  content:'';position:absolute;inset:0;pointer-events:none;z-index:0;
  background:
    radial-gradient(ellipse 80% 55% at 15% 65%,rgba(80,20,50,.2)  0%,transparent 65%),
    radial-gradient(ellipse 65% 45% at 82% 28%,rgba(45,10,70,.18) 0%,transparent 60%),
    radial-gradient(ellipse 55% 65% at 50% 95%,rgba(80,20,70,.15) 0%,transparent 55%);
}
.sky-inner{position:relative;z-index:1;max-width:960px;margin:0 auto}
.sky-head{text-align:center;margin-bottom:clamp(3.5rem,6vw,6rem)}
.sky-sup{
  font-size:.58rem;letter-spacing:.45em;text-transform:uppercase;
  color:var(--lilac);opacity:.6;display:block;margin-bottom:1.1rem;
}
.sky-h2{
  font-family:'Cormorant Garamond',serif;font-weight:300;
  font-size:clamp(2.2rem,5.5vw,3.5rem);color:rgba(238,208,255,.88);
  text-shadow:0 0 55px rgba(168,140,192,.18);letter-spacing:.03em;
}
.sky-hint{font-size:clamp(.7rem,1.7vw,.8rem);color:rgba(168,140,192,.32);margin-top:1rem;letter-spacing:.12em}

.starfield{
  position:relative;width:100%;
  min-height:clamp(360px,52vw,600px);
  border-radius:18px;overflow:hidden;cursor:crosshair;
  box-shadow:0 40px 120px rgba(0,0,0,.75),inset 0 0 80px rgba(50,8,80,.12);
}
#sky-canvas{position:absolute;inset:0;width:100%;height:100%;border-radius:18px}

.star{
  position:absolute;z-index:3;cursor:pointer;
  -webkit-user-select:none;user-select:none;
  transform:translate(-50%,-50%);
}
.star-dot{
  border-radius:50%;background:#fff;
  box-shadow:0 0 6px 1px rgba(255,255,255,.5);
  transition:transform .3s,box-shadow .3s;
  animation:twinkle var(--tw,3s) ease-in-out infinite var(--td,0s);
}
.star:hover .star-dot{transform:scale(2.1);box-shadow:0 0 18px 6px rgba(200,140,200,.8)}
.star.lit .star-dot{
  background:#ffe0f5;
  box-shadow:0 0 24px 10px rgba(200,120,180,.9),0 0 60px 25px rgba(160,60,140,.28);
  transform:scale(2.5);
}
.star-rays{position:absolute;top:50%;left:50%;width:0;height:0;pointer-events:none}
.star.lit .star-rays::before,.star.lit .star-rays::after{
  content:'';position:absolute;background:rgba(255,200,240,.45);
  border-radius:3px;transform:translate(-50%,-50%);
  animation:rayB .55s ease both;
}
.star.lit .star-rays::before{width:2px;height:58px}
.star.lit .star-rays::after{width:58px;height:2px}
@keyframes twinkle{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.28;transform:scale(.58)}}
@keyframes rayB{from{opacity:1;transform:translate(-50%,-50%) scale(0)}to{opacity:0;transform:translate(-50%,-50%) scale(1)}}

.star-tip{
  position:absolute;z-index:20;width:218px;
  background:rgba(14,5,24,.96);border:1px solid rgba(168,140,192,.22);
  border-radius:12px;padding:1.5rem 1.6rem;text-align:center;
  backdrop-filter:blur(22px);
  box-shadow:0 20px 70px rgba(0,0,0,.72),0 0 40px rgba(130,50,180,.08);
  pointer-events:none;
  transition:opacity .3s ease,transform .3s ease;
}
.tip-emoji{font-size:1.9rem;display:block;margin-bottom:.6rem}
.tip-title{
  font-family:'Cormorant Garamond',serif;font-weight:600;
  font-size:1.08rem;color:rgba(240,205,255,.92);margin-bottom:.45rem;letter-spacing:.03em;
}
.tip-text{font-size:.72rem;color:rgba(190,155,225,.5);line-height:1.7}

.sky-prog{text-align:center;margin-top:2.5rem}
.sky-bar-wrap{width:min(370px,86%);height:2px;background:rgba(168,140,192,.08);border-radius:2px;margin:.8rem auto}
.sky-bar-fill{
  height:100%;background:linear-gradient(90deg,var(--lilac),var(--petal));
  border-radius:2px;width:0%;transition:width .55s ease;
  box-shadow:0 0 10px rgba(168,140,192,.45);
}
.sky-count{font-size:.72rem;color:rgba(168,140,192,.38);letter-spacing:.15em}
.sky-count strong{color:rgba(168,140,192,.75)}
.sky-finale{display:none;text-align:center;margin-top:2.5rem;animation:fadeUp .7s ease both}
.sky-finale.on{display:block}
.sky-finale p{
  font-family:'Great Vibes',cursive;
  font-size:clamp(2.4rem,6vw,3.8rem);color:rgba(240,195,255,.78);
  text-shadow:0 0 45px rgba(190,90,230,.35);
}

/* ‚ïê‚ïê‚ïê DESEO ‚ïê‚ïê‚ïê */
.wish-section{background:linear-gradient(165deg,#fdf0e6 0%,#f8e4ee 45%,#eee8f8 100%)}
.wish-card{
  background:rgba(255,255,255,.72);backdrop-filter:blur(18px);
  border:1.5px solid var(--bd);border-radius:16px;
  padding:clamp(2.8rem,6vw,4.5rem);text-align:center;
  box-shadow:0 18px 60px rgba(200,120,128,.09);
}
.wish-candle{
  font-size:4rem;display:block;margin-bottom:1.2rem;
  animation:floatMaj 4.5s ease-in-out infinite;
  cursor:pointer;-webkit-user-select:none;user-select:none;
  filter:drop-shadow(0 8px 20px rgba(200,120,128,.28));
}
.wish-h3{
  font-family:'Cormorant Garamond',serif;font-weight:300;
  font-size:clamp(2.2rem,5vw,3.2rem);color:var(--wine);margin-bottom:.7rem;
}
.wish-sub{
  font-family:'Cormorant Garamond',serif;font-style:italic;
  font-size:clamp(1rem,2.2vw,1.15rem);color:var(--wine);opacity:.5;
  margin-bottom:2.2rem;line-height:1.75;
}
.wish-ta{
  width:100%;min-height:108px;padding:1.2rem 1.6rem;
  border:1.5px solid rgba(200,120,128,.22);border-radius:6px;
  font-family:'Cormorant Garamond',serif;font-style:italic;
  font-size:1.1rem;color:var(--ink);resize:none;
  background:rgba(253,244,248,.55);outline:none;
  transition:border-color .3s,box-shadow .3s;
}
.wish-ta:focus{border-color:rgba(200,120,128,.55);box-shadow:0 0 0 4px rgba(200,120,128,.07)}
.wish-ta::placeholder{color:rgba(92,37,53,.28)}
.wish-btn{
  display:inline-flex;align-items:center;gap:.7rem;
  margin-top:1.6rem;padding:.9rem 2.6rem;
  background:linear-gradient(135deg,var(--petal),#a05060);
  color:#fff;border:none;border-radius:2px;
  font-family:'Lato',sans-serif;font-size:.76rem;letter-spacing:.22em;
  text-transform:uppercase;cursor:pointer;
  box-shadow:0 5px 20px rgba(200,120,128,.36);
  transition:transform .2s,box-shadow .2s;
}
.wish-btn:hover{transform:translateY(-3px);box-shadow:0 12px 30px rgba(200,120,128,.5)}
.wish-sent{
  display:none;margin-top:2rem;
  font-family:'Great Vibes',cursive;
  font-size:clamp(2.2rem,5.5vw,3rem);color:var(--petal);
  animation:fadeUp .6s ease both;
}

/* ‚ïê‚ïê‚ïê FOOTER ‚ïê‚ïê‚ïê */
.footer{
  position:relative;z-index:1;text-align:center;
  padding:clamp(5.5rem,9vw,9rem) 2rem;
  background:linear-gradient(170deg,var(--wine) 0%,#1e0816 100%);
  overflow:hidden;
}
.footer::before{
  content:'';position:absolute;inset:0;pointer-events:none;
  background:
    radial-gradient(ellipse 80% 80% at 50% 115%,rgba(200,120,128,.09) 0%,transparent 65%),
    radial-gradient(ellipse 40% 40% at 20%  20%,rgba(168,140,192,.05) 0%,transparent 55%);
}
.footer-title{
  font-family:'Italiana',serif;
  font-size:clamp(3.5rem,11vw,8.5rem);color:var(--blush);
  line-height:.95;letter-spacing:.02em;
  text-shadow:0 0 100px rgba(240,196,196,.12);
  margin-bottom:1.2rem;position:relative;z-index:1;
}
.footer-name{
  font-family:'Great Vibes',cursive;
  font-size:clamp(2.2rem,5.5vw,4rem);color:var(--petal);
  margin-bottom:2rem;position:relative;z-index:1;
  text-shadow:0 0 35px rgba(200,120,128,.28);
}
.footer-gems{
  font-size:clamp(1.1rem,2.2vw,1.5rem);letter-spacing:.9rem;
  margin-bottom:2.2rem;position:relative;z-index:1;
}
.footer-sub{
  font-size:.58rem;letter-spacing:.32em;text-transform:uppercase;
  color:rgba(240,196,196,.25);position:relative;z-index:1;
}
.footer-badge{
  display:inline-block;margin-top:3rem;
  padding:.55rem 2rem;border:1px solid rgba(240,196,196,.1);
  border-radius:2px;font-family:'Cormorant Garamond',serif;font-style:italic;
  font-size:.88rem;color:rgba(240,196,196,.25);
  position:relative;z-index:1;letter-spacing:.1em;
}

/* ‚ïê‚ïê‚ïê FAB ‚ïê‚ïê‚ïê */
.fab{
  position:fixed;bottom:2rem;right:2rem;
  width:54px;height:54px;border-radius:50%;
  background:linear-gradient(135deg,var(--petal),#a06060);
  border:none;font-size:1.45rem;cursor:pointer;z-index:100;
  box-shadow:0 5px 22px rgba(200,120,128,.48);
  transition:transform .2s;
  animation:fabP 3.5s ease-in-out infinite;
  -webkit-user-select:none;user-select:none;
}
.fab:hover{transform:scale(1.13) rotate(12deg)}
@keyframes fabP{
  0%,100%{box-shadow:0 5px 22px rgba(200,120,128,.48)}
  50%{box-shadow:0 5px 36px rgba(200,120,128,.72),0 0 0 8px rgba(200,120,128,.09)}
}

.mp{
  position:fixed;bottom:2rem;left:2rem;z-index:100;
  background:rgba(30,8,22,.9);backdrop-filter:blur(20px);
  border:1px solid rgba(200,120,128,.16);border-radius:50px;
  padding:.7rem 1.2rem .7rem .75rem;
  display:none;align-items:center;gap:.8rem;
  box-shadow:0 8px 32px rgba(8,2,14,.5);
  cursor:pointer;max-width:228px;transition:transform .2s;
}
.mp.vis{display:flex}
.mp:hover{transform:translateY(-3px)}
.mp-icon{
  width:38px;height:38px;border-radius:50%;flex-shrink:0;
  background:linear-gradient(135deg,var(--petal),#a05060);
  display:flex;align-items:center;justify-content:center;
  font-size:.88rem;color:#fff;
  box-shadow:0 3px 12px rgba(200,120,128,.42);
}
.mp-meta{flex:1;overflow:hidden}
.mp-t{font-size:.7rem;color:var(--blush);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;letter-spacing:.04em}
.mp-a{font-size:.6rem;color:rgba(240,196,196,.4);margin-top:1px}
.mp-bars{display:flex;align-items:flex-end;gap:2px;height:14px}
.mp-bar{width:3px;background:var(--petal);border-radius:2px;animation:mB .9s ease-in-out infinite}
.mp-bar:nth-child(2){animation-delay:.18s;height:65%}
.mp-bar:nth-child(3){animation-delay:.36s;height:38%}
.mp-bar:nth-child(4){animation-delay:.54s;height:80%}
.mp-bar:nth-child(5){animation-delay:.72s;height:48%}
.mp.paused .mp-bar{animation-play-state:paused}
@keyframes mB{0%,100%{transform:scaleY(1)}50%{transform:scaleY(2.2)}}

/* ‚ïê‚ïê‚ïê REVEAL ‚ïê‚ïê‚ïê */
.reveal{opacity:0;transform:translateY(38px);transition:opacity .95s ease,transform .95s ease}
.reveal.in{opacity:1;transform:translateY(0)}

@keyframes fadeUp{from{opacity:0;transform:translateY(18px)}to{opacity:1;transform:translateY(0)}}

@media(max-width:520px){
  .mp{display:none!important}
  .env-body{padding:2.5rem 1.5rem}
  .letter{padding:2.4rem 1.6rem}
  .wish-card{padding:2.4rem 1.6rem}
}
</style>
</head>
<body class="locked">

<!-- SPLASH -->
<div id="splash">
  <canvas id="splash-canvas"></canvas>
  <div class="sp-aurora sp-a1"></div>
  <div class="sp-aurora sp-a2"></div>
  <div class="sp-aurora sp-a3"></div>
  <div class="sp-ring"></div><div class="sp-ring"></div><div class="sp-ring"></div>
  <div class="sp-body">
    <p class="sp-eyebrow">un regalo para ti</p>
    <h1 class="sp-title">Feliz<br>Cumplea√±os</h1>
    <p class="sp-name">Karla</p>
    <span class="sp-gem">‚óÜ ‚óÜ ‚óÜ</span>
    <button class="sp-btn"><span>üå∏</span> Abrir mi regalo <span>üå∏</span></button>
    <p class="sp-note">Preparado con todo mi cari√±o ¬∑ Solo para ti</p>
  </div>
</div>

<canvas id="petals-canvas"></canvas>

<!-- HERO -->
<section class="hero">
  <div class="hero-content">
    <span class="hero-sup">Un d√≠a muy especial</span>
    <div class="hero-flower-stage">
      <span class="hero-flower" id="hflower">üå∏</span>
      <div class="ring1"></div><div class="ring2"></div>
    </div>
    <h1 class="hero-title">Feliz Cumplea√±os</h1>
    <p class="hero-name">Karla</p>
    <div class="hero-div">
      <span class="hero-div-line"></span>
      <span class="hero-div-icon">‚úø</span>
      <span class="hero-div-line"></span>
    </div>
    <p class="hero-date">24 de febrero ¬∑ 2025</p>
  </div>
  <div class="hero-scroll"><span>Desliza</span><span class="arr">‚Üì</span></div>
</section>

<!-- TAPE -->
<div class="tape" aria-hidden="true"><div class="tape-row" id="tape-row"></div></div>

<!-- CARTA -->
<section class="section letter-section">
  <div class="section-inner">
    <div class="s-head reveal">
      <span class="s-sup">‚ú¶ Desde el coraz√≥n ‚ú¶</span>
      <h2 class="s-h2">Un mensaje para ti</h2>
    </div>
    <div class="env-wrap reveal">
      <div class="envelope" id="envelope">
        <div class="env-interior">
          <div class="env-interior-lines">
            <span></span><span></span><span></span><span></span><span></span>
          </div>
        </div>
        <div class="env-top-flap" id="env-top-flap">
          <svg viewBox="0 0 580 268" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
            <defs>
              <linearGradient id="flapGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stop-color="#dda8a8"/>
                <stop offset="50%" stop-color="#cc8888"/>
                <stop offset="100%" stop-color="#c07878"/>
              </linearGradient>
              <linearGradient id="flapShade" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" stop-color="rgba(100,40,50,.12)"/>
                <stop offset="100%" stop-color="rgba(100,40,50,0)"/>
              </linearGradient>
              <filter id="flapShadow">
                <feDropShadow dx="0" dy="3" stdDeviation="4" flood-color="rgba(80,30,40,.2)"/>
              </filter>
            </defs>
            <polygon points="0,0 580,0 290,242" fill="url(#flapGrad)" filter="url(#flapShadow)"/>
            <polygon points="0,0 580,0 290,120" fill="url(#flapShade)"/>
            <line x1="0" y1="0" x2="580" y2="0" stroke="rgba(180,90,100,.15)" stroke-width="1"/>
            <text x="290" y="80" text-anchor="middle" font-size="28" fill="rgba(255,240,240,.25)" font-family="serif">‚úø</text>
          </svg>
        </div>
        <div class="env-seal" id="env-seal">üíå</div>
        <div class="env-shell">
          <svg class="env-sides" viewBox="0 0 580 320" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none" style="position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:3;">
            <defs>
              <linearGradient id="sideL" x1="0%" y1="50%" x2="100%" y2="50%">
                <stop offset="0%" stop-color="#dbb0a8" stop-opacity=".9"/>
                <stop offset="100%" stop-color="#dbb0a8" stop-opacity="0"/>
              </linearGradient>
              <linearGradient id="sideR" x1="100%" y1="50%" x2="0%" y2="50%">
                <stop offset="0%" stop-color="#d8aab5" stop-opacity=".9"/>
                <stop offset="100%" stop-color="#d8aab5" stop-opacity="0"/>
              </linearGradient>
              <linearGradient id="sideBot" x1="50%" y1="100%" x2="50%" y2="0%">
                <stop offset="0%" stop-color="#d0a8b8" stop-opacity=".85"/>
                <stop offset="100%" stop-color="#d0a8b8" stop-opacity="0"/>
              </linearGradient>
            </defs>
            <polygon points="0,0 0,320 290,160" fill="url(#sideL)" opacity=".55"/>
            <polygon points="580,0 580,320 290,160" fill="url(#sideR)" opacity=".55"/>
            <polygon points="0,320 580,320 290,160" fill="url(#sideBot)" opacity=".65"/>
            <line x1="0" y1="0" x2="290" y2="160" stroke="rgba(180,100,110,.12)" stroke-width="1"/>
            <line x1="580" y1="0" x2="290" y2="160" stroke="rgba(180,100,110,.12)" stroke-width="1"/>
            <line x1="0" y1="320" x2="290" y2="160" stroke="rgba(180,100,110,.1)" stroke-width="1"/>
            <line x1="580" y1="320" x2="290" y2="160" stroke="rgba(180,100,110,.1)" stroke-width="1"/>
          </svg>
          <div class="env-body">
            <div class="env-body-shadow"></div>
            <div class="env-stamp">üå∏</div>
            <div class="env-postmark">
              <span class="env-postmark-top">Feb 24</span>
              <div class="env-postmark-line"></div>
              <div class="env-postmark-line"></div>
              <span class="env-postmark-bot">2025</span>
            </div>
            <div class="env-address">
              <p class="env-address-to">Para:</p>
              <p class="env-address-name">Karla</p>
              <p class="env-address-city">Con todo mi amor ‚ú¶</p>
            </div>
            <div class="env-divider">
              <span class="env-divider-line"></span>
              <span class="env-divider-gem">‚ú¶ ‚úø ‚ú¶</span>
              <span class="env-divider-line"></span>
            </div>
            <p class="env-copy">Hay algo especial aqu√≠ dentro,<br>guardado solo para ti‚Ä¶</p>
            <span class="env-cta">‚ú¶ toca para abrir ‚ú¶</span>
          </div>
        </div>
      </div><!-- /envelope -->

      <!-- CARTA -->
      <div class="letter" id="letter">
        <div class="letter-bg"></div>
        <span class="letter-c1">‚úø</span>
        <span class="letter-c2">‚úø</span>
        <span class="letter-q">"</span>
        <p class="letter-body">Feliz Cumplea√±os!!!! ‚ú®ü´Ç
Se que hace mucho que no nos vemos, y ahora menos con eso que los dos ya estamos en universidades diferentes, recuerdas cuando nos conocimos? cuando √©ramos mas jovenes, y nuestra preocupaci√≥n era entregar las tareas, te confieso que tu me cambiaste la vida en muchos aspectos positivos, y ninguno negativo, sin ti yo no habr√≠a explorado la amistad como las conozco ahora, tu me ayudaste a creer en las personas, en que no todos hacen las cosas por algo a cambio, sino que hay gente que ayuda por el hecho de ayudar al pr√≥jimo, el a√±o pasado nos pudimos reencontrar una vez, y cr√©eme que fue una experiencia sin igual, cr√©eme que ans√≠o el d√≠a en el que nos volvamos a ver, y pasar un buen rato juntos, lamentablemente por falta de tiempo no pude hacer un video nuevo, pero espero te guste todo lo dem√°s de la pagina web, disfruta tu d√≠a especial ü´Ç</p>
        <p class="letter-sig">‚Äî Con todo mi cari√±o, Marcos V√°squez</p>
        <br/>
        <button class="letter-close" id="letter-close">‚ú¶ cerrar ‚ú¶</button>
      </div>
    </div>
  </div>
</section>

<!-- VIDEO -->
<section class="section video-section">
  <div class="section-inner">
    <div class="s-head reveal">
      <span class="s-sup">‚ú¶ Algo especial ‚ú¶</span>
      <h2 class="s-h2">Un video para este d√≠a</h2>
    </div>
    <div class="video-shell reveal">
      <div class="video-cap">
        <span class="video-cap-icon">üé¨</span>
        <div class="video-cap-text"><h3>¬°Solo para ti!</h3><p>Karla, este video es tuyo ‚ú¶</p></div>
      </div>
      <div class="video-body">
        <div class="video-embed-outer">
          <div class="video-embed-wrap">
            <iframe
              src="https://drive.google.com/file/d/15_l8CkN3u2VeX06zPdxgZYNACm1hh0oW/preview"
              allow="autoplay"
              allowfullscreen>
            </iframe>
          </div>
        </div>
        <a class="video-cta" href="https://drive.google.com/file/d/15_l8CkN3u2VeX06zPdxgZYNACm1hh0oW/view?usp=drive_link" target="_blank">üé¨ &nbsp;Ver en pantalla completa</a>
        <p class="video-note">* Si el video no carga aqu√≠, haz clic en el bot√≥n de arriba</p>
      </div>
    </div>
  </div>
</section>

<!-- ESTRELLAS -->
<section class="sky-section">
  <div class="sky-inner">
    <div class="sky-head reveal">
      <span class="sky-sup">‚ú¶ Tu universo ‚ú¶</span>
      <h2 class="sky-h2">Las razones por las que brillas</h2>
      <p class="sky-hint">Toca cada estrella para descubrirlas ‚ú¶</p>
    </div>
    <div class="starfield reveal" id="starfield"><canvas id="sky-canvas"></canvas></div>
    <div class="sky-prog">
      <p class="sky-count"><strong id="stars-lit">0</strong> / 8 razones descubiertas</p>
      <div class="sky-bar-wrap"><div class="sky-bar-fill" id="sky-fill"></div></div>
    </div>
    <div class="sky-finale" id="sky-finale"><p>‚ú® As√≠ de especial eres t√∫ ‚ú®</p></div>
  </div>
</section>

<!-- DESEO -->
<section class="section wish-section">
  <div class="section-inner">
    <div class="s-head reveal">
      <span class="s-sup">‚ú¶ Tu momento ‚ú¶</span>
      <h2 class="s-h2">Pide un deseo</h2>
    </div>
    <div class="wish-card reveal">
      <span class="wish-candle" id="wcandle">üïØÔ∏è</span>
      <h3 class="wish-h3">Sopla las velitas</h3>
      <p class="wish-sub">Escribe tu deseo m√°s especial<br>y env√≠alo al universo‚Ä¶</p>
      <textarea class="wish-ta" id="wish-input" placeholder="Deseo que este a√±o‚Ä¶"></textarea><br/>
      <button class="wish-btn" id="wish-btn"><span>‚ú®</span> Enviar al universo</button>
      <p class="wish-sent" id="wish-sent">üåü ¬°Tu deseo vol√≥ al universo! üåü</p>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer class="footer">
  <p class="footer-title">Feliz<br>Cumplea√±os</p>
  <p class="footer-name">Karla</p>
  <p class="footer-gems">üå∏ üå∑ üå∫</p>
  <p class="footer-sub">Hecho con todo el amor del mundo ¬∑ Un d√≠a para recordar siempre</p>
  <p class="footer-badge">febrero ¬∑ 2025</p>
</footer>

<button class="fab" id="fab">üéâ</button>

<div class="mp" id="mp">
  <div class="mp-icon" id="mp-btn">‚ñ∂</div>
  <div class="mp-meta">
    <div class="mp-t">Tu canci√≥n favorita</div>
    <div class="mp-a">üéµ Solo para ti</div>
  </div>
  <div class="mp-bars">
    <div class="mp-bar" style="height:60%"></div>
    <div class="mp-bar"></div><div class="mp-bar"></div>
    <div class="mp-bar"></div><div class="mp-bar"></div>
  </div>
</div>

<script>
const CFG = { musicUrl:'' };

/* ‚îÄ‚îÄ SPLASH ‚îÄ‚îÄ */
const splash = document.getElementById('splash');
const spc = document.getElementById('splash-canvas');
const spx = spc.getContext('2d');
const rsz = () => { spc.width=innerWidth; spc.height=innerHeight; };
rsz(); addEventListener('resize', rsz);

const DOTS = Array.from({length:60}, ()=>({
  x:Math.random()*innerWidth, y:Math.random()*innerHeight,
  r:1+Math.random()*3.2, vy:-.18-Math.random()*.42,
  a:.03+Math.random()*.12,
  c:['#f0c4c4','#c87880','#a88cc0','#b08050','#e4d0c8'][Math.floor(Math.random()*5)]
}));
let spRun=true;
(function sl(){
  if(!spRun) return;
  spx.clearRect(0,0,spc.width,spc.height);
  DOTS.forEach(d=>{
    spx.beginPath(); spx.arc(d.x,d.y,d.r,0,Math.PI*2);
    spx.fillStyle=d.c; spx.globalAlpha=d.a; spx.fill(); spx.globalAlpha=1;
    d.y+=d.vy; if(d.y<-8){d.y=innerHeight+8;d.x=Math.random()*innerWidth;}
  });
  requestAnimationFrame(sl);
})();

const CC=['#c87880','#f0d898','#a0c8a8','#a88cc0','#88c0d0','#f0c4a0','#d8a0b8','#90d0b8'];
function boom(n=80){
  for(let i=0;i<n;i++) setTimeout(()=>{
    const d=document.createElement('div'), sz=5+Math.random()*9, circ=Math.random()>.45;
    d.style.cssText=`position:fixed;left:${Math.random()*100}vw;top:-16px;
      width:${sz}px;height:${circ?sz:sz*.5}px;
      background:${CC[Math.floor(Math.random()*CC.length)]};
      border-radius:${circ?'50%':'2px'};z-index:9999;
      transform:rotate(${Math.random()*360}deg);pointer-events:none;opacity:1;
      transition:top ${1.7+Math.random()*1.3}s ease-in,opacity .5s ease 1.85s;`;
    document.body.appendChild(d);
    requestAnimationFrame(()=>{d.style.top=(78+Math.random()*22)+'vh';d.style.opacity='0';});
    setTimeout(()=>d.remove(),3500);
  }, i*13);
}

function openPage(){
  boom(90); splash.classList.add('hide'); spRun=false;
  document.body.classList.remove('locked');
  setTimeout(()=>splash.remove(),1200);
}
splash.querySelector('.sp-btn').addEventListener('click', openPage);
splash.addEventListener('click', e=>{ if(e.target===splash) openPage(); });

/* ‚îÄ‚îÄ PETALS ‚îÄ‚îÄ */
const pc=document.getElementById('petals-canvas'), px=pc.getContext('2d');
const rpc=()=>{pc.width=innerWidth;pc.height=innerHeight;};
rpc(); addEventListener('resize',rpc);
const PCOLS=['#e8b0b0','#f5cccc','#c898a0','#c4b0c8','#e0c8b0'];
const mkP=t=>({
  x:Math.random()*innerWidth, y:t?-20:Math.random()*innerHeight,
  sz:5+Math.random()*12, vy:.28+Math.random()*.65,
  vx:(Math.random()-.5)*.55, rot:Math.random()*Math.PI*2,
  rv:(Math.random()-.5)*.038, a:.18+Math.random()*.36,
  c:PCOLS[Math.floor(Math.random()*PCOLS.length)]
});
const petals=Array.from({length:50},()=>mkP(false));
(function pl(){
  px.clearRect(0,0,pc.width,pc.height);
  petals.forEach(p=>{
    px.save(); px.translate(p.x,p.y); px.rotate(p.rot);
    px.globalAlpha=p.a; px.fillStyle=p.c;
    px.beginPath(); px.ellipse(0,0,p.sz,p.sz*.46,0,0,Math.PI*2);
    px.fill(); px.restore();
    p.y+=p.vy; p.x+=p.vx; p.rot+=p.rv;
    if(p.y>innerHeight+28) Object.assign(p,mkP(true),{x:Math.random()*innerWidth});
  });
  requestAnimationFrame(pl);
})();

/* ‚îÄ‚îÄ TAPE ‚îÄ‚îÄ */
const E=['üå∏','üå∑','üå∫','üåº','üåª','üíê','üåπ','üåø','‚úø','‚ùÄ','üíÆ','üçÄ'];
const tr=document.getElementById('tape-row');
[...E,...E,...E,...E].forEach(e=>{const s=document.createElement('span');s.textContent=e;tr.appendChild(s);});

/* ‚îÄ‚îÄ REVEAL ‚îÄ‚îÄ */
document.querySelectorAll('.reveal').forEach(el=>
  new IntersectionObserver(([e])=>{if(e.isIntersecting)el.classList.add('in');},{threshold:.1}).observe(el)
);

document.getElementById('fab').addEventListener('click',()=>boom(115));

/* ‚îÄ‚îÄ HERO FLOWER ‚îÄ‚îÄ */
const hf=document.getElementById('hflower');
const hfA=['üå∏','üå∫','üå∑','üåº','üåª','üåπ','üíê','üå∏'];
let hfN=0;
hf.addEventListener('click',()=>{
  hfN++; hf.textContent=hfA[hfN%hfA.length]; boom(32);
  hf.style.animation='none'; hf.style.transform='scale(1.45) rotate(20deg)';
  setTimeout(()=>{hf.style.transform='';hf.style.animation='floatMaj 5.5s ease-in-out infinite';},500);
});

/* ‚îÄ‚îÄ SOBRE ‚îÄ‚îÄ */
let lo=false;
document.getElementById('envelope').addEventListener('click',()=>{
  if(lo) return; lo=true;
  const env = document.getElementById('envelope');
  const flap = document.getElementById('env-top-flap');
  env.classList.add('opening');
  flap.style.transition = 'transform .7s cubic-bezier(.4,0,.2,1)';
  flap.style.transformOrigin = 'top center';
  flap.style.transform = 'rotateX(-175deg)';
  setTimeout(()=>{ env.classList.add('open'); }, 200);
  setTimeout(()=>{
    env.style.display='none';
    document.getElementById('letter').style.display='block';
    boom(45);
  }, 700);
});
document.getElementById('letter-close').addEventListener('click',()=>{
  lo=false;
  const env = document.getElementById('envelope');
  const flap = document.getElementById('env-top-flap');
  document.getElementById('letter').style.display='none';
  env.style.display='block';
  env.classList.remove('open','opening');
  flap.style.transform='';
});

/* ‚îÄ‚îÄ ESTRELLAS ‚îÄ‚îÄ */
const STARS=[
  {emoji:'‚ú®',title:'√önica',     text:'No existe nadie igual a ti en este mundo. Eso te hace extraordinaria.'},
  {emoji:'üå∏',title:'Radiante',  text:'Tu energ√≠a ilumina cada lugar al que llegas sin siquiera intentarlo.'},
  {emoji:'üí´',title:'Valiente',  text:'Enfrentas la vida con una fuerza que pocas personas tienen de verdad.'},
  {emoji:'üåô',title:'Profunda',  text:'Tienes una sensibilidad y una inteligencia que hacen que todo tenga sentido.'},
  {emoji:'ü¶ã',title:'Libre',     text:'Eres aut√©ntica. Nunca te has doblegado para encajar en el molde de nadie.'},
  {emoji:'üåø',title:'Generosa',  text:'Das de ti misma sin medir, y eso es uno de tus dones m√°s bonitos.'},
  {emoji:'üå∫',title:'Memorable', text:'Quien te conoce no te olvida. Dejas huella en cada persona que cruza tu camino.'},
  {emoji:'üíé',title:'Invaluable',text:'Tenerte en mi vida es uno de los mejores regalos que me ha dado el universo.'},
];
const SPOS=[{x:14,y:16},{x:50,y:10},{x:83,y:19},{x:8,y:54},{x:46,y:60},{x:80,y:48},{x:23,y:83},{x:67,y:82}];

const sf=document.getElementById('starfield');
const sc=document.getElementById('sky-canvas'), sx=sc.getContext('2d');
let actStar=null; const disc=new Set();

function rzSky(){sc.width=sf.offsetWidth;sc.height=sf.offsetHeight;drawNeb();}
function drawNeb(){
  const w=sc.width,h=sc.height;
  sx.clearRect(0,0,w,h);
  const bg=sx.createRadialGradient(w*.5,h*.45,0,w*.5,h*.5,w*.88);
  bg.addColorStop(0,'rgba(35,8,55,.95)');
  bg.addColorStop(.55,'rgba(18,5,32,.98)');
  bg.addColorStop(1,'rgba(6,2,16,1)');
  sx.fillStyle=bg; sx.fillRect(0,0,w,h);
  [[w*.18,h*.3,w*.42,'rgba(80,16,120,.1)'],[w*.76,h*.55,w*.46,'rgba(55,12,100,.09)'],[w*.5,h*.86,w*.36,'rgba(110,24,84,.08)'],[w*.88,h*.1,w*.26,'rgba(70,14,110,.07)']].forEach(([cx,cy,r,col])=>{
    const g=sx.createRadialGradient(cx,cy,0,cx,cy,r);
    g.addColorStop(0,col);g.addColorStop(1,'transparent');
    sx.fillStyle=g;sx.fillRect(0,0,w,h);
  });
  for(let i=0;i<185;i++){
    const x=Math.random()*w,y=Math.random()*h,r=.25+Math.random()*.85,a=.07+Math.random()*.42;
    sx.beginPath();sx.arc(x,y,r,0,Math.PI*2);
    sx.fillStyle=`rgba(255,235,255,${a})`;sx.fill();
  }
}

const tip=document.createElement('div');
tip.className='star-tip';
tip.style.cssText='position:absolute;display:none;';
sf.appendChild(tip);

function showTip(star,data){
  tip.innerHTML=`<span class="tip-emoji">${data.emoji}</span><p class="tip-title">${data.title}</p><p class="tip-text">${data.text}</p>`;
  const sr=sf.getBoundingClientRect(), dr=star.querySelector('.star-dot').getBoundingClientRect();
  const sx2=dr.left+dr.width/2-sr.left, sy2=dr.top+dr.height/2-sr.top;
  const cw=218,ch=150,mg=12;
  let l=sx2-cw/2, t=sy2-ch-26;
  if(t<mg) t=sy2+26;
  if(t+ch>sf.offsetHeight-mg) t=sf.offsetHeight-ch-mg;
  if(l<mg) l=mg;
  if(l+cw>sf.offsetWidth-mg) l=sf.offsetWidth-cw-mg;
  tip.style.left=l+'px';tip.style.top=t+'px';
  tip.style.opacity='0';tip.style.transform='translateY(9px) scale(.92)';
  tip.style.display='block';
  requestAnimationFrame(()=>{tip.style.opacity='1';tip.style.transform='translateY(0) scale(1)';});
}
function hideTip(){
  tip.style.opacity='0';tip.style.transform='translateY(9px) scale(.92)';
  setTimeout(()=>{tip.style.display='none';},320);
}

function buildStars(){
  STARS.forEach((data,i)=>{
    const pos=SPOS[i], sz=8+Math.random()*7;
    const star=document.createElement('div');
    star.className='star';
    star.style.cssText=`left:${pos.x}%;top:${pos.y}%;`;
    star.style.setProperty('--tw',(2+Math.random()*2.8)+'s');
    star.style.setProperty('--td',(Math.random()*2)+'s');
    const dot=document.createElement('div');
    dot.className='star-dot';dot.style.cssText=`width:${sz}px;height:${sz}px;`;
    const rays=document.createElement('div');rays.className='star-rays';
    star.appendChild(dot);star.appendChild(rays);
    star.addEventListener('click',e=>{
      e.stopPropagation();
      if(actStar===star){star.classList.remove('lit');hideTip();actStar=null;return;}
      if(actStar) actStar.classList.remove('lit');
      star.classList.add('lit');actStar=star;showTip(star,data);
      if(!disc.has(i)){
        disc.add(i);
        document.getElementById('stars-lit').textContent=disc.size;
        document.getElementById('sky-fill').style.width=(disc.size/STARS.length*100)+'%';
        boom(13);
        if(disc.size===STARS.length){document.getElementById('sky-finale').classList.add('on');boom(110);}
      }
    });
    sf.appendChild(star);
  });
  document.addEventListener('click',()=>{if(actStar){actStar.classList.remove('lit');hideTip();actStar=null;}});
}
addEventListener('resize',()=>{rzSky();if(actStar)hideTip();});
requestAnimationFrame(()=>{rzSky();buildStars();});

/* ‚îÄ‚îÄ DESEO ‚îÄ‚îÄ */
document.getElementById('wish-btn').addEventListener('click',()=>{
  const v=document.getElementById('wish-input').value.trim();
  if(!v){document.getElementById('wish-input').style.borderColor='rgba(200,120,128,.7)';return;}
  document.getElementById('wish-input').style.borderColor='';
  document.getElementById('wish-btn').disabled=true;
  document.getElementById('wcandle').textContent='üåü';
  document.getElementById('wish-sent').style.display='block';
  boom(90);
});
document.getElementById('wcandle').addEventListener('click',()=>{
  boom(26);const c=document.getElementById('wcandle');
  c.style.transform='scale(1.45) rotate(16deg)';
  setTimeout(()=>c.style.transform='',430);
});

/* ‚îÄ‚îÄ M√öSICA ‚îÄ‚îÄ */
const mpEl=document.getElementById('mp'),mbEl=document.getElementById('mp-btn');
let audio=null,playing=false;
if(CFG.musicUrl){audio=new Audio(CFG.musicUrl);audio.loop=true;mpEl.classList.add('vis');}
mpEl.addEventListener('click',()=>{
  if(!audio)return;
  if(playing){audio.pause();playing=false;mbEl.textContent='‚ñ∂';mpEl.classList.add('paused');}
  else{audio.play().catch(()=>{});playing=true;mbEl.textContent='‚è∏';mpEl.classList.remove('paused');}
});

/* ‚îÄ‚îÄ SPARKLE CURSOR ‚îÄ‚îÄ */
document.addEventListener('mousemove',e=>{
  if(Math.random()>.8){
    const s=document.createElement('div'),sz=3+Math.random()*5;
    s.style.cssText=`position:fixed;left:${e.clientX}px;top:${e.clientY}px;
      width:${sz}px;height:${sz}px;border-radius:50%;pointer-events:none;z-index:9998;
      background:${['#c87880','#f0c4c4','#a88cc0','#e0c4a0'][Math.floor(Math.random()*4)]};
      opacity:.7;transform:translate(-50%,-50%);transition:all .68s ease;`;
    document.body.appendChild(s);
    requestAnimationFrame(()=>{
      s.style.transform=`translate(${-50+(Math.random()-.5)*40}%,${-50-32-Math.random()*28}%)`;
      s.style.opacity='0';
    });
    setTimeout(()=>s.remove(),740);
  }
});
</script>
</body>
</html>